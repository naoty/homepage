---
title: 「達人に学ぶDB設計徹底指南書」を読んだ
time: 2015-02-02 01:27
tags: ['book', 'db']
---

[![達人に学ぶDB設計 徹底指南書 初級者で終わりたくないあなたへ](http://ecx.images-amazon.com/images/I/51vol70XHoL._SL160_.jpg "達人に学ぶDB設計 徹底指南書 初級者で終わりたくないあなたへ")](http://www.amazon.co.jp/exec/obidos/ASIN/4798124702/naotoknk-22/)

[達人に学ぶDB設計 徹底指南書 初級者で終わりたくないあなたへ](http://www.amazon.co.jp/exec/obidos/ASIN/4798124702/naotoknk-22/)

- 作者: ミック
- 出版社/メーカー: 翔泳社
- 発売日: 2012/03/16
- メディア: 単行本（ソフトカバー）
- 購入: 21人 クリック: 316回
- [この商品を含むブログ (23件) を見る](http://d.hatena.ne.jp/asin/4798124702/naotoknk-22)

「達人に学ぶDB設計徹底指南書」を読んだ。最近、Webアプリケーションを開発する中で設計に問題意識を感じるようになった。ただ、具体的にどこが問題なのかうまく言語化できなくて、というか設計という言葉が何を指しているのかイマイチ分かってなかったので、データベースの設計について本を読んでみた。

# 内容

- データベースの設計は「論理設計」→「物理設計」の順に行う。論理設計はデータの要素やデータ間の関係を定める工程を指す。物理設計はデータを格納する物理的な領域や格納方法を定める工程を指す。
- 論理設計は「エンティティの抽出」→「エンティティの定義」→「正規化」→「ER図の作成」の順に行う。エンティティというのは業務内容に現れるデータの集合体を指す。
- 物理設計は「テーブル定義」→「インデックス定義」→「ハードウェアのサイジング」→「ストレージの冗長構成決定」→「ファイルの物理配置決定」の順に行う。
- 正規化というのはデータの形式を正規形にすることであり、正規形というのはデータの冗長性が排除され一貫性と効率性が保持されるデータ形式のこと。異なるエンティティを異なるテーブルに分離することによって第3正規形までは実現できる。
- 正規化の目的はデータの冗長性を排除して不整合な更新を避けることにある。ただし、正規化はテーブルを分離するため、SQLでjoinを使うことになる。joinはパフォーマンスが悪化するため、正規化とパフォーマンスはトレードオフの関係にある。
- 「非正規化は最後の手段」というのが筆者の意見である。

# 感想

- データベース設計で最初に行うのは「エンティティの抽出」であるということがとても重要なポイントに感じた。
- いつもRailsでアプリケーションを開発するとき、正規化を意識することはない。Modelを定義することはテーブルを定義することと同義だ。なので、適切にエンティティを定義できていれば、意識せずとも第2正規形、第3正規形を実現できると思う。筆者の「非正規化は最後の手段」という立場にたつと、いつもどおりModelを定義することで正規化を行い、非正規化以外の手段でパフォーマンスを向上させていけばいいということになる。つまり、今まで通りでいいってことか。
- 結局、「いかにしてエンティティを抽出・定義するか」という問題を考える必要がありそうだ。
